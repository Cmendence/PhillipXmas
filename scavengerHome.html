<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
    <title>Phillip's Scavenger Hunt</title>
    <style>
      /* -------------------------
       MODAL STYLING
    -------------------------- */
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: none; /* hidden by default */
        background: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .modal-content {
        background: linear-gradient(
          180deg,
          rgba(201, 236, 187, 0.95),
          rgba(196, 231, 182, 0.95)
        );
        padding: 24px 32px;
        border-radius: 12px;
        text-align: center;
        max-width: 300px;
        box-shadow: 0 6px 14px rgba(10, 20, 40, 0.06);
      }

      .modal-content h2 {
        margin-top: 0;
        color: #0b6b3a;
        font-size: 22px;
      }

      .modal-content button {
        margin-top: 16px;
        padding: 8px 14px;
        font-size: 16px;
        border-radius: 6px;
        border: none;
        background-color: var(--accent);
        color: #fff;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="stage" role="main" aria-label="Phillip's Scavenger Hunt">
      <!-- HEADER -->
      <header>
        <div class="avatar" aria-hidden="true">
          <img
            src="images/Phillip-gifts1.png"
            alt="Phillip the elf (placeholder)"
          />
        </div>
        <div class="title">
          <h1>Scavenger Hunt!</h1>
          <h3>Find the hidden letter to continue</h3>
        </div>
        <div class="countdown" aria-live="polite">
          <span class="number" id="days-remaining">--</span>
          <span class="label">days until Phillip arrives</span>
        </div>
      </header>

      <!-- MAIN HUNT AREA -->
      <main>
        <div class="grid" style="justify-items: center; text-align: center">
          <p
            style="
              font-size: 16px;
              color: var(--muted);
              max-width: 400px;
              margin: auto;
            "
          >
            Hint: <span id="hint-text">[Your clue goes here]</span>
          </p>

          <div style="margin-top:20px;">
  <input 
    type="text" 
    id="letter-input" 
    placeholder="Letter?" 
    style="
      padding:14px 16px; 
      font-size:22px; 
      border-radius:8px; 
      border:1px solid #ccc; 
      text-transform: uppercase; /* auto-uppercase */
      width:150px;
      text-align:center;
    ">
  <button id="submit-btn" style="
      padding:10px 16px; 
      font-size:18px; 
      border-radius:6px; 
      border:none; 
      background-color:var(--accent); 
      color:#fff; 
      cursor:pointer; 
      margin-left:8px;
    ">Submit</button>
</div>
        </div>
      </main>

      <!-- FOOTER -->
      <footer>
        <div style="display: flex; gap: 10px; align-items: center">
          <div class="star" aria-hidden="true">★</div>
          <div class="small">Phillip's Workshop</div>
        </div>
      </footer>
    </div>

    <!-- MODAL -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <h2 id="modal-message">Correct!</h2>
        <button id="modal-btn">Next</button>
      </div>
    </div>

    <script>
      // --------------------------
      // Countdown (same as index.html)
      // --------------------------
      (function () {
        const daysEl = document.getElementById("days-remaining");

        function daysUntilDecFirst() {
          const now = new Date();
          const year = now.getFullYear();
          const targetThisYear = new Date(year, 11, 1);
          let target = targetThisYear;
          if (now > targetThisYear) {
            target = new Date(year, 11, 25);
          }
          const msPerDay = 1000 * 60 * 60 * 24;
          const diff = Math.ceil(
            (target -
              new Date(now.getFullYear(), now.getMonth(), now.getDate())) /
              msPerDay
          );
          return diff;
        }

        function update() {
          const d = daysUntilDecFirst();
          daysEl.textContent = String(d);
          daysEl.nextElementSibling &&
            (daysEl.nextElementSibling.textContent = "Days until Christmas!");
        }

        update();
        setInterval(update, 1000 * 60 * 60);
      })();

      // --------------------------
      // Scavenger Hunt Logic with Modal
      // --------------------------
      const correctLetter = "A"; // <-- change for each page
      const nextPage = "clue2.html"; // <-- change to next page

      const input = document.getElementById("letter-input");
      const submitBtn = document.getElementById("submit-btn");
      const modal = document.getElementById("modal");
      const modalMessage = document.getElementById("modal-message");
      const modalBtn = document.getElementById("modal-btn");

      function showModal(message) {
        modalMessage.textContent = message;
        modal.style.display = "flex";
      }

      function hideModal() {
        modal.style.display = "none";
      }

      function checkLetter() {
        const value = input.value.trim().toUpperCase();
        if (value === correctLetter.toUpperCase()) {
          showModal("✅ Correct! On to the next clue!");
          modalBtn.onclick = function () {
            window.location.href = nextPage;
          };
        } else {
          showModal("❌ Try again!");
          modalBtn.onclick = function () {
            hideModal();
            input.value = "";
            input.focus();
          };
        }
      }

      submitBtn.addEventListener("click", checkLetter);

      input.addEventListener("keyup", function (event) {
        if (event.key === "Enter") checkLetter();
      });
    </script>
  </body>
</html>
